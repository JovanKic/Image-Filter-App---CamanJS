var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),img=new Image,fileName="",downloadBtn=document.getElementById("download-btn"),uploadFile=document.getElementById("upload-file"),revertBtn=document.getElementById("revert-btn");uploadFile.addEventListener("change",function(e){var t=document.getElementById("upload-file").files[0],a=new FileReader;t&&(fileName=t.name,a.readAsDataURL(t)),a.addEventListener("load",function(){(img=new Image).src=a.result,img.onload=function(){canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0,img.width,img.height),canvas.removeAttribute("data-caman-id")}},!1)});